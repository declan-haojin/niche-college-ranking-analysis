<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project title</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">TEAM NAME</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./proposal.html">Proposal</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentation.pdf">Presentation</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./report.html" aria-current="page">Report</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">About</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-and-data" id="toc-introduction-and-data" class="nav-link active" data-scroll-target="#introduction-and-data">Introduction and data</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a>
  <ul class="collapse">
  <li><a href="#import-tidy-and-join-data" id="toc-import-tidy-and-join-data" class="nav-link" data-scroll-target="#import-tidy-and-join-data">Import, Tidy, and Join Data</a></li>
  <li><a href="#prepare-data" id="toc-prepare-data" class="nav-link" data-scroll-target="#prepare-data">Prepare Data</a></li>
  <li><a href="#build-model-iterations" id="toc-build-model-iterations" class="nav-link" data-scroll-target="#build-model-iterations">Build model (Iterations)</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project title</h1>
<p class="subtitle lead">Report</p>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction-and-data" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-data">Introduction and data</h2>
<p>Every year, millions of students apply to colleges across the United State, and many of them use college rankings lists from sources such as <em>US News and World Report</em>, Forbes.com, and Niche.com to to help them decide where to apply and where to go. In recent years, these lists have been heavily criticized for focusing on “exclusivity and resources, rather than accessibility and economic mobility” (1).The system can also be easily gamed by a university if that university focuses on improving the metrics used in the list, as seen in Northeastern University meteoric rise from #163 to #49 on the US News and World Report list, in only 17 year; the president even explicitly stated that it a top priority of the university to raise its ranking (2).</p>
<p>(1) https://thehill.com/changing-america/enrichment/education/3641004-the-scandal-facing-college-ranking-lists-explained/</p>
<p>(2) https://www.bostonmagazine.com/news/2014/08/26/how-northeastern-gamed-the-college-rankings/</p>
<p>These lists are important because students applying to college trust these rankings and weigh them into their college decisions. Due to large impact that a college has on a student’s life, it is important to know where these ranking come from and what they actually measure. In this project, we will explore how influential different metrics are in determining a college’s ranking.</p>
<p>In general, we want to examine how different variables affect a school’s ranking on the <strong>Niche College Ranking List</strong>. We plan to look at variables that are typically thought to influence school rank such as average SAT score and acceptance rate, but we also want to look at variables that aren’t typically thought of such as geographic region or endowment size.</p>
<p><strong>Question:</strong> What variables (and what types of variables) have the greatest influence on school’s place in the Niche College Ranking List?</p>
<p><strong>Hypothesis:</strong> We hypothesize that: ACT/SAT test score, acceptance rate, and median earnings 10 years after graduation will have the biggest impact on college rank.</p>
<p>In our project, we will join two data sets: The Niche College Rankings list and the US Department of Education College Scorecard</p>
<p><strong>Data Set #1: Niche</strong></p>
<ul>
<li><p>The first data set comes from Niche’s “2023 Best Colleges in America” list</p>
<p>(https://www.niche.com/colleges/search/best-colleges/)</p></li>
<li><p>Niche aggregates data from a variety of sources, including the US Department of Education and reviews from students and alumni, to build their list of college rankings. The rankings list is updated monthly to reflect new data that Niche receives; although, data from the US Department o Education is only received on an annual basis. The Niche data was scraped by Maia on October 17-19 2022.</p></li>
<li><p>There are 500 observations, representing the top 500 schools in the United States. Each observation has two variables: the name of the school (<code>college</code>) and (<code>rank</code>) and the rank of the school.</p></li>
</ul>
<p><strong>Data Set #2: US Department of Education</strong></p>
<ul>
<li><p>The second data set comes from the US Department of Education’s College Scorecard, which is an exhaustive summary of characteristics and statistics for all colleges and universities in the United States.</p>
<p>(https://collegescorecard.ed.gov/data/)</p></li>
<li><p>The College Scorecard is updated by the Education Department as it collects new data. Data used in the scorecard comes comes from data reported by the institutions, data on federal financial aid, data from taxes, and data from other federal agencies.</p></li>
<li><p>There were 2,989 variables in the original data set, many of which we don’t need to answer our question, and since this data set was too large to load into RStudio, we used Excel to narrow this to 63 variables.There are 6681 observations in the data set, representing all of the colleges and universities in the United States.</p>
<ul>
<li><p>Here is a summary of the data we will be using in or analysis.</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th>Variable Name</th>
<th>C/Q</th>
<th>Description</th>
<th>Levels of Cat. Variable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>college</td>
<td>C</td>
<td>Institution name</td>
<td></td>
</tr>
<tr class="even">
<td>rank</td>
<td>Q</td>
<td>Niche rank</td>
<td></td>
</tr>
<tr class="odd">
<td>REGION</td>
<td>C</td>
<td></td>
<td>New England, Mid East, Great Lakes, Plains, Southeast, Southwest, Rocky Mountains, Far West, Outlying Areas</td>
</tr>
<tr class="even">
<td>ACCREDAGENCY</td>
<td>C</td>
<td>Accreditor for Institution</td>
<td></td>
</tr>
<tr class="odd">
<td>CONTROL</td>
<td>C</td>
<td></td>
<td>Public, Private nonprofit, private for-profit</td>
</tr>
<tr class="even">
<td>CCBASIC</td>
<td>C</td>
<td>Carnegie Classification --basic</td>
<td></td>
</tr>
<tr class="odd">
<td>ADM_RATE</td>
<td>Q</td>
<td>Admission rate</td>
<td></td>
</tr>
<tr class="even">
<td>UGDS</td>
<td>Q</td>
<td>Enrollment of undergraduate certificate/degree-seeking students</td>
<td></td>
</tr>
<tr class="odd">
<td>UGDS_WHITE</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are white</td>
<td></td>
</tr>
<tr class="even">
<td>UGDS_BLACK</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are black</td>
<td></td>
</tr>
<tr class="odd">
<td>UGDS_HISP</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are Hispanic</td>
<td></td>
</tr>
<tr class="even">
<td>UGDS_ASIAN</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are Asian</td>
<td></td>
</tr>
<tr class="odd">
<td>UGDS_AIAN</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are American Indian/Alaska Native</td>
<td></td>
</tr>
<tr class="even">
<td>UGDS_NHPI</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are Native Hawaiian/Pacific Islander</td>
<td></td>
</tr>
<tr class="odd">
<td>UGDS_2MOR</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are two or more races</td>
<td></td>
</tr>
<tr class="even">
<td>UGDS_NRA</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students who are non-resident aliens</td>
<td></td>
</tr>
<tr class="odd">
<td>UGDS_UNKN</td>
<td>Q</td>
<td>Total share of enrollment of undergraduate degree-seeking students whose race is unknown</td>
<td></td>
</tr>
<tr class="even">
<td>NPT4_PUB</td>
<td>Q</td>
<td>Average net price for Title IV institutions (public institutions)</td>
<td></td>
</tr>
<tr class="odd">
<td>NPT4_PRIV</td>
<td>Q</td>
<td>Average net price for Title IV institutions (private for-profit and nonprofit institutions)</td>
<td></td>
</tr>
<tr class="even">
<td>COSTT4_A</td>
<td>Q</td>
<td>Average cost of attendance (academic year institutions)</td>
<td></td>
</tr>
<tr class="odd">
<td>COSTT4_P</td>
<td>Q</td>
<td>Average cost of attendance (program-year institutions)</td>
<td></td>
</tr>
<tr class="even">
<td>AVGFACSAL</td>
<td>Q</td>
<td>Average faculty salary</td>
<td></td>
</tr>
<tr class="odd">
<td>PCTPELL</td>
<td>Q</td>
<td>Percentage of undergraduates who receive a Pell Grant</td>
<td></td>
</tr>
<tr class="even">
<td>C150_4</td>
<td>Q</td>
<td>Completion rate for first-time, full-time students at four-year institutions (150% of expected time to completion)</td>
<td></td>
</tr>
<tr class="odd">
<td>AGE_ENTRY</td>
<td>Q</td>
<td>Average age of entry</td>
<td></td>
</tr>
<tr class="even">
<td>FEMALE</td>
<td>Q</td>
<td>Share of female students</td>
<td></td>
</tr>
<tr class="odd">
<td>MARRIED</td>
<td>Q</td>
<td>Share of married students</td>
<td></td>
</tr>
<tr class="even">
<td>FIRST_GEN</td>
<td>Q</td>
<td>Share of first-generation students</td>
<td></td>
</tr>
<tr class="odd">
<td>FAMINC</td>
<td>Q</td>
<td>Average family income</td>
<td></td>
</tr>
<tr class="even">
<td>MD_FAMINC</td>
<td>Q</td>
<td>Median family income</td>
<td></td>
</tr>
<tr class="odd">
<td>ENDOWBEGIN</td>
<td>Q</td>
<td>Value of school’s endowment at the beginning of the fiscal year</td>
<td></td>
</tr>
<tr class="even">
<td>SAT_AVG</td>
<td>Q</td>
<td>Average SAT equivalent score of students admitted</td>
<td></td>
</tr>
<tr class="odd">
<td>SATVRMID</td>
<td>Q</td>
<td>Midpoint of SAT scores at the institution (critical reading)</td>
<td></td>
</tr>
<tr class="even">
<td>SATMTMID</td>
<td>Q</td>
<td>Midpoint of SAT scores at the institution (math)</td>
<td></td>
</tr>
<tr class="odd">
<td>SATWRMID</td>
<td>Q</td>
<td>Midpoint of SAT scores at the institution (writing)</td>
<td></td>
</tr>
<tr class="even">
<td>ACTCMMID</td>
<td>Q</td>
<td>Midpoint of the ACT cumulative score</td>
<td></td>
</tr>
<tr class="odd">
<td>ACTENMID</td>
<td>Q</td>
<td>Midpoint of the ACT english score</td>
<td></td>
</tr>
<tr class="even">
<td>ACTMTMID</td>
<td>Q</td>
<td>Midpoint of the ACT math score</td>
<td></td>
</tr>
<tr class="odd">
<td>ACTWRMID</td>
<td>Q</td>
<td>Midpoint of the ACT writing score</td>
<td></td>
</tr>
</tbody>
</table></li>
</ul></li>
</ul>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>The methodology section should include visualizations and summary statistics relevant to your research question. You should also justify the choice of statistical method(s) used to answer your research question.</p>
<section id="import-tidy-and-join-data" class="level3">
<h3 class="anchored" data-anchor-id="import-tidy-and-join-data">Import, Tidy, and Join Data</h3>
<p>These steps were done in an R script titled create-colleges-dataset.R</p>
<ol type="1">
<li><p>Scrape the data Niche.com and download data from the US Department of Education, and import.</p></li>
<li><p>Change college names in Department of Education file to match Niche file</p></li>
<li><p>Left join the <code>us_dep_of_ed</code> data set to Niche data set (<code>colleges</code>) by school name to make a new data set with 500 observations and 64 variables.</p></li>
<li><p>The Observations for <code>University of South Florida - Sarasota-Manatee</code> and <code>University of South Florida - St. Petersburg</code> have been dropped from the <code>colleges</code> data set due to their non-existence in the <code>us_dep_of_ed</code> data set. They were not present in the data set because these two universities were combined with the main University of South Florida campus. This is why the <code>colleges</code> data set only has 498 observations</p></li>
</ol>
</section>
<section id="prepare-data" class="level3">
<h3 class="anchored" data-anchor-id="prepare-data">Prepare Data</h3>
<ol type="1">
<li>Pick variables that make sense to focus on</li>
</ol>
<!-- -->
<ol start="2" type="1">
<li>Standardize all the continuous variables to z-scores, mean = 0, standard deviation = 1</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>colleges <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/colleges.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 498 Columns: 64
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (5): college, CITY, STABBR, ZIP, ACCREDAGENCY
dbl (58): rank, UNITID, OPEID, OPEID6, LATITUDE, LONGITUDE, REGION, CCBASIC,...
lgl  (1): UG

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/scaled_data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 498 Columns: 39
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (5): REGION, CONTROL, CCBASIC, college, ACCREDAGENCY
dbl (34): rank, ADM_RATE, UGDS, UGDS_WHITE, UGDS_BLACK, UGDS_HISP, UGDS_ASIA...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p><strong>Summarize and Visualize</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>colleges_levels <span class="ot">&lt;-</span> colleges <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      rank <span class="sc">&lt;=</span> <span class="dv">100</span> <span class="sc">~</span> <span class="st">"1 to 100"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>      rank <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> rank <span class="sc">&lt;=</span> <span class="dv">200</span> <span class="sc">~</span> <span class="st">"101 to 200"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>      rank <span class="sc">&gt;</span> <span class="dv">200</span> <span class="sc">&amp;</span> rank <span class="sc">&lt;=</span> <span class="dv">300</span> <span class="sc">~</span> <span class="st">"201 to 300"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      rank <span class="sc">&gt;</span> <span class="dv">300</span> <span class="sc">&amp;</span> rank <span class="sc">&lt;=</span> <span class="dv">400</span> <span class="sc">~</span> <span class="st">"301 to 400"</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      rank <span class="sc">&gt;</span> <span class="dv">400</span> <span class="sc">&amp;</span> rank <span class="sc">&lt;=</span> <span class="dv">498</span> <span class="sc">~</span> <span class="st">"401 to 498"</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>colleges_levels <span class="sc">|&gt;</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(level) <span class="sc">|&gt;</span> </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_ADM_Rate =</span> <span class="fu">mean</span>(ADM_RATE, <span class="at">na.rm =</span> T),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_SAT_AVG =</span> <span class="fu">mean</span>(SAT_AVG, <span class="at">na.rm =</span> T),</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_ACTCMMID =</span> <span class="fu">mean</span>(ACTCMMID, <span class="at">na.rm =</span> T),</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_UGDS_WHITE =</span> <span class="fu">mean</span>(UGDS_WHITE, <span class="at">na.rm =</span> T),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_UGDS_ASIAN =</span> <span class="fu">mean</span>(UGDS_ASIAN, <span class="at">na.rm =</span> T),</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_COSTT4_A =</span> <span class="fu">mean</span>(COSTT4_A, <span class="at">na.rm =</span> T)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  level      mean_ADM_Rate mean_SAT_AVG mean_ACTCMMID mean_UGD…¹ mean_…² mean_…³
  &lt;chr&gt;              &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 1 to 100           0.277        1423.          32.1      0.487  0.150   60691.
2 101 to 200         0.618        1267.          27.5      0.627  0.0698  46372.
3 201 to 300         0.682        1216.          26.0      0.614  0.0729  43883.
4 301 to 400         0.716        1160.          24.1      0.563  0.0548  40799.
5 401 to 498         0.738        1148.          23.9      0.619  0.0442  36733.
6 &lt;NA&gt;               0.962        1066           21        0.601  0.0167  29424.
# … with abbreviated variable names ¹​mean_UGDS_WHITE, ²​mean_UGDS_ASIAN,
#   ³​mean_COSTT4_A</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rank-vs-ADM_RATE</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ADM_RATE, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ADM_RATE-vs-rank-stand</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ADM_RATE, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rank-vsADM_RATE-by-CCBASIC</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ADM_RATE, <span class="at">y =</span> rank, <span class="at">color =</span> CCBASIC)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ADM_RATE, <span class="at">y =</span> rank, <span class="at">color =</span> CONTROL)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/ADM_RATE-vs-rank-by-region-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: ADM_RATE-vs-rank-by-ACCREDAGENCY</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ADM_RATE, <span class="at">y =</span> rank, <span class="at">color =</span> ACCREDAGENCY)) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">show.legend =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS_WHITE, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS_ASIAN, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS_ASIAN, <span class="at">y =</span> <span class="fu">log</span>(rank))) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-9-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS_BLACK, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-9-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS_BLACK, <span class="at">y =</span> <span class="fu">log</span>(rank))) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-9-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> FIRST_GEN, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 21 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> NPT4_PRIV, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 200 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> NPT4_PUB, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 302 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> NPT4_PUB, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 302 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> COSTT4_A, <span class="at">y =</span> rank, <span class="at">color =</span> CONTROL)) <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> AVGFACSAL, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-7.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> PCTPELL, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 4 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-8.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> C150_4, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-9.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> AGE_ENTRY, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-10.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> FEMALE, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 13 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-11.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> MARRIED, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 133 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-12.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> FIRST_GEN, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 21 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-13.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> FAMINC, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-14.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> MD_FAMINC, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-15.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>scaled_data <span class="sc">|&gt;</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ENDOWBEGIN, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 14 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-10-16.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rank-vs-SAT_AVG</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> SAT_AVG, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 81 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rank-vs-ACTCMMID</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>colleges <span class="sc">|&gt;</span> </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ACTCMMID, <span class="at">y =</span> rank)) <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 83 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="3" type="1">
<li><p>Check correlation coefficients between all the all the exponential variables. For the ones that have a r &gt; 0.8, pick one to put in the model. We can create multiple models with different options.</p>
<p>We remove the columns that has more than 100 NA and leave the rest for calculating correlations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>data_for_corr <span class="ot">&lt;-</span> scaled_data <span class="sc">|&gt;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(is.numeric)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Use of bare predicate functions was deprecated in tidyselect 1.1.0.
ℹ Please use wrap predicates in `where()` instead.
  # Was:
  data %&gt;% select(is.numeric)

  # Now:
  data %&gt;% select(where(is.numeric))</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>correlations <span class="ot">=</span> data_for_corr <span class="sc">|&gt;</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"NPT4_PUB"</span>, <span class="st">"NPT4_PRIV"</span>, <span class="st">"COSTT4_P"</span>, <span class="st">"SATWRMID"</span>, <span class="st">"SATVRMID"</span>, <span class="st">"SATMTMID"</span>, <span class="st">"ACTENMID"</span>, <span class="st">"ACTMTMID"</span>, <span class="st">"ACTWRMID"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na.omit</span>() <span class="sc">|&gt;</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cor</span>() </span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>correlations <span class="sc">|&gt;</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">corrplot</span>(<span class="at">method=</span><span class="st">"color"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># correlations &lt;- dataset |&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   na.omit() |&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   cor()</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>correlations[correlations <span class="sc">&lt;</span> <span class="fl">0.8</span> <span class="sc">|</span> correlations <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>correlations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           rank ADM_RATE UGDS UGDS_WHITE UGDS_BLACK UGDS_HISP UGDS_ASIAN
rank       ""   ""       ""   ""         ""         ""        ""        
ADM_RATE   ""   ""       ""   ""         ""         ""        ""        
UGDS       ""   ""       ""   ""         ""         ""        ""        
UGDS_WHITE ""   ""       ""   ""         ""         ""        ""        
UGDS_BLACK ""   ""       ""   ""         ""         ""        ""        
UGDS_HISP  ""   ""       ""   ""         ""         ""        ""        
UGDS_ASIAN ""   ""       ""   ""         ""         ""        ""        
UGDS_AIAN  ""   ""       ""   ""         ""         ""        ""        
UGDS_NHPI  ""   ""       ""   ""         ""         ""        ""        
UGDS_2MOR  ""   ""       ""   ""         ""         ""        ""        
UGDS_NRA   ""   ""       ""   ""         ""         ""        ""        
UGDS_UNKN  ""   ""       ""   ""         ""         ""        ""        
COSTT4_A   ""   ""       ""   ""         ""         ""        ""        
AVGFACSAL  ""   ""       ""   ""         ""         ""        ""        
PCTPELL    ""   ""       ""   ""         ""         ""        ""        
C150_4     ""   ""       ""   ""         ""         ""        ""        
AGE_ENTRY  ""   ""       ""   ""         ""         ""        ""        
FEMALE     ""   ""       ""   ""         ""         ""        ""        
MARRIED    ""   ""       ""   ""         ""         ""        ""        
FIRST_GEN  ""   ""       ""   ""         ""         ""        ""        
FAMINC     ""   ""       ""   ""         ""         ""        ""        
MD_FAMINC  ""   ""       ""   ""         ""         ""        ""        
ENDOWBEGIN ""   ""       ""   ""         ""         ""        ""        
SAT_AVG    ""   ""       ""   ""         ""         ""        ""        
ACTCMMID   ""   ""       ""   ""         ""         ""        ""        
           UGDS_AIAN UGDS_NHPI UGDS_2MOR UGDS_NRA UGDS_UNKN COSTT4_A AVGFACSAL
rank       ""        ""        ""        ""       ""        ""       ""       
ADM_RATE   ""        ""        ""        ""       ""        ""       ""       
UGDS       ""        ""        ""        ""       ""        ""       ""       
UGDS_WHITE ""        ""        ""        ""       ""        ""       ""       
UGDS_BLACK ""        ""        ""        ""       ""        ""       ""       
UGDS_HISP  ""        ""        ""        ""       ""        ""       ""       
UGDS_ASIAN ""        ""        ""        ""       ""        ""       ""       
UGDS_AIAN  ""        ""        ""        ""       ""        ""       ""       
UGDS_NHPI  ""        ""        ""        ""       ""        ""       ""       
UGDS_2MOR  ""        ""        ""        ""       ""        ""       ""       
UGDS_NRA   ""        ""        ""        ""       ""        ""       ""       
UGDS_UNKN  ""        ""        ""        ""       ""        ""       ""       
COSTT4_A   ""        ""        ""        ""       ""        ""       ""       
AVGFACSAL  ""        ""        ""        ""       ""        ""       ""       
PCTPELL    ""        ""        ""        ""       ""        ""       ""       
C150_4     ""        ""        ""        ""       ""        ""       ""       
AGE_ENTRY  ""        ""        ""        ""       ""        ""       ""       
FEMALE     ""        ""        ""        ""       ""        ""       ""       
MARRIED    ""        ""        ""        ""       ""        ""       ""       
FIRST_GEN  ""        ""        ""        ""       ""        ""       ""       
FAMINC     ""        ""        ""        ""       ""        ""       ""       
MD_FAMINC  ""        ""        ""        ""       ""        ""       ""       
ENDOWBEGIN ""        ""        ""        ""       ""        ""       ""       
SAT_AVG    ""        ""        ""        ""       ""        ""       ""       
ACTCMMID   ""        ""        ""        ""       ""        ""       ""       
           PCTPELL C150_4              AGE_ENTRY           FEMALE
rank       ""      ""                  ""                  ""    
ADM_RATE   ""      ""                  ""                  ""    
UGDS       ""      ""                  ""                  ""    
UGDS_WHITE ""      ""                  ""                  ""    
UGDS_BLACK ""      ""                  ""                  ""    
UGDS_HISP  ""      ""                  ""                  ""    
UGDS_ASIAN ""      ""                  ""                  ""    
UGDS_AIAN  ""      ""                  ""                  ""    
UGDS_NHPI  ""      ""                  ""                  ""    
UGDS_2MOR  ""      ""                  ""                  ""    
UGDS_NRA   ""      ""                  ""                  ""    
UGDS_UNKN  ""      ""                  ""                  ""    
COSTT4_A   ""      ""                  ""                  ""    
AVGFACSAL  ""      ""                  ""                  ""    
PCTPELL    ""      ""                  ""                  ""    
C150_4     ""      ""                  ""                  ""    
AGE_ENTRY  ""      ""                  ""                  ""    
FEMALE     ""      ""                  ""                  ""    
MARRIED    ""      ""                  "0.905880209781912" ""    
FIRST_GEN  ""      ""                  ""                  ""    
FAMINC     ""      ""                  ""                  ""    
MD_FAMINC  ""      ""                  ""                  ""    
ENDOWBEGIN ""      ""                  ""                  ""    
SAT_AVG    ""      "0.83893042183357"  ""                  ""    
ACTCMMID   ""      "0.849384841586927" ""                  ""    
           MARRIED             FIRST_GEN FAMINC             
rank       ""                  ""        ""                 
ADM_RATE   ""                  ""        ""                 
UGDS       ""                  ""        ""                 
UGDS_WHITE ""                  ""        ""                 
UGDS_BLACK ""                  ""        ""                 
UGDS_HISP  ""                  ""        ""                 
UGDS_ASIAN ""                  ""        ""                 
UGDS_AIAN  ""                  ""        ""                 
UGDS_NHPI  ""                  ""        ""                 
UGDS_2MOR  ""                  ""        ""                 
UGDS_NRA   ""                  ""        ""                 
UGDS_UNKN  ""                  ""        ""                 
COSTT4_A   ""                  ""        ""                 
AVGFACSAL  ""                  ""        ""                 
PCTPELL    ""                  ""        ""                 
C150_4     ""                  ""        ""                 
AGE_ENTRY  "0.905880209781912" ""        ""                 
FEMALE     ""                  ""        ""                 
MARRIED    ""                  ""        ""                 
FIRST_GEN  ""                  ""        ""                 
FAMINC     ""                  ""        ""                 
MD_FAMINC  ""                  ""        "0.953776864530003"
ENDOWBEGIN ""                  ""        ""                 
SAT_AVG    ""                  ""        ""                 
ACTCMMID   ""                  ""        ""                 
           MD_FAMINC           ENDOWBEGIN SAT_AVG            
rank       ""                  ""         ""                 
ADM_RATE   ""                  ""         ""                 
UGDS       ""                  ""         ""                 
UGDS_WHITE ""                  ""         ""                 
UGDS_BLACK ""                  ""         ""                 
UGDS_HISP  ""                  ""         ""                 
UGDS_ASIAN ""                  ""         ""                 
UGDS_AIAN  ""                  ""         ""                 
UGDS_NHPI  ""                  ""         ""                 
UGDS_2MOR  ""                  ""         ""                 
UGDS_NRA   ""                  ""         ""                 
UGDS_UNKN  ""                  ""         ""                 
COSTT4_A   ""                  ""         ""                 
AVGFACSAL  ""                  ""         ""                 
PCTPELL    ""                  ""         ""                 
C150_4     ""                  ""         "0.83893042183357" 
AGE_ENTRY  ""                  ""         ""                 
FEMALE     ""                  ""         ""                 
MARRIED    ""                  ""         ""                 
FIRST_GEN  ""                  ""         ""                 
FAMINC     "0.953776864530003" ""         ""                 
MD_FAMINC  ""                  ""         ""                 
ENDOWBEGIN ""                  ""         ""                 
SAT_AVG    ""                  ""         ""                 
ACTCMMID   ""                  ""         "0.975600694502382"
           ACTCMMID           
rank       ""                 
ADM_RATE   ""                 
UGDS       ""                 
UGDS_WHITE ""                 
UGDS_BLACK ""                 
UGDS_HISP  ""                 
UGDS_ASIAN ""                 
UGDS_AIAN  ""                 
UGDS_NHPI  ""                 
UGDS_2MOR  ""                 
UGDS_NRA   ""                 
UGDS_UNKN  ""                 
COSTT4_A   ""                 
AVGFACSAL  ""                 
PCTPELL    ""                 
C150_4     "0.849384841586927"
AGE_ENTRY  ""                 
FEMALE     ""                 
MARRIED    ""                 
FIRST_GEN  ""                 
FAMINC     ""                 
MD_FAMINC  ""                 
ENDOWBEGIN ""                 
SAT_AVG    "0.975600694502382"
ACTCMMID   ""                 </code></pre>
</div>
</div></li>
</ol>
<p>According to the correlation matrix, we need to remove variable pairs that have a high correlation (the absolute value &gt; 0.8).</p>
<p>The second output sections only shows the correlation entries with a value greater than 0.8. These variable pairs are (MD_FAMINC, FAMINC), (C150_4, SAT_AVG), (C150_4, ACTCMMID) and (ACTCMMID, SAT_AVG). Therefore, we will drop the variables C150_4, MD_FAMINC, ACTCMMID and preserve SAT_AVG and FAMINC to represent all other variables.</p>
</section>
<section id="build-model-iterations" class="level3">
<h3 class="anchored" data-anchor-id="build-model-iterations">Build model (Iterations)</h3>
<ol type="1">
<li>Put all of our chosen variables into a model</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>data_set <span class="ot">&lt;-</span> scaled_data <span class="sc">|&gt;</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"ADM_RATE"</span>, <span class="st">"UGDS"</span>, <span class="st">"UGDS_WHITE"</span>, <span class="st">"UGDS_BLACK"</span>, <span class="st">"UGDS_HISP"</span>, <span class="st">"UGDS_ASIAN"</span>, <span class="st">"UGDS_AIAN"</span>, <span class="st">"UGDS_NHPI"</span>, <span class="st">"UGDS_2MOR"</span>, <span class="st">"UGDS_NRA"</span>, <span class="st">"UGDS_UNKN"</span>, <span class="st">"COSTT4_A"</span>, <span class="st">"AVGFACSAL"</span>, <span class="st">"PCTPELL"</span>, <span class="st">"AGE_ENTRY"</span>, <span class="st">"FAMINC"</span>, <span class="st">"ENDOWBEGIN"</span>, <span class="st">"SAT_AVG"</span>, <span class="st">"rank"</span>, <span class="st">"REGION"</span>, <span class="st">"CONTROL"</span>, <span class="st">"CCBASIC"</span>, <span class="st">"college"</span>, <span class="st">"ACCREDAGENCY"</span>, <span class="st">"FEMALE"</span>, <span class="st">"MARRIED"</span>, <span class="st">"FIRST_GEN"</span>))</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>data_set</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 498 × 27
   ADM_RATE   UGDS UGDS_WHITE UGDS_BL…¹ UGDS_…² UGDS_…³ UGDS_A…⁴ UGDS_…⁵ UGDS_…⁶
      &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1    -2.25 -0.449     -1.73   -0.121    0.243    3.09  -0.102   -0.334    1.29 
 2    -2.34 -0.269     -1.55   -0.0293   0.372    2.14   0.123    0.607    2.07 
 3    -2.34 -0.293     -1.18    0.368   -0.0533   1.62  -0.0822  -0.0312   0.982
 4    -2.28 -0.418     -1.24    0.181    0.195    2.02  -0.0736  -0.199    0.713
 5    -2.32 -0.419     -1.16    0.159   -0.204    2.18  -0.0994  -0.199    0.583
 6    -2.10 -0.476     -1.46   -0.00790  0.285    2.49  -0.134   -0.166    0.197
 7    -2.27 -0.759     -1.85   -0.728    0.471    4.02  -0.154   -0.199    1.75 
 8    -2.23 -0.244     -0.937   0.137   -0.251    1.71  -0.00796 -0.401    0.486
 9    -2.23 -0.245     -0.881  -0.0533  -0.158    1.34  -0.0537  -0.0648   0.738
10    -2.17 -0.468     -0.487  -0.221   -0.228    0.923  0.232   -0.233    0.542
# … with 488 more rows, 18 more variables: UGDS_NRA &lt;dbl&gt;, UGDS_UNKN &lt;dbl&gt;,
#   COSTT4_A &lt;dbl&gt;, AVGFACSAL &lt;dbl&gt;, PCTPELL &lt;dbl&gt;, AGE_ENTRY &lt;dbl&gt;,
#   FAMINC &lt;dbl&gt;, ENDOWBEGIN &lt;dbl&gt;, SAT_AVG &lt;dbl&gt;, rank &lt;dbl&gt;, REGION &lt;chr&gt;,
#   CONTROL &lt;chr&gt;, CCBASIC &lt;chr&gt;, college &lt;chr&gt;, ACCREDAGENCY &lt;chr&gt;,
#   FEMALE &lt;dbl&gt;, MARRIED &lt;dbl&gt;, FIRST_GEN &lt;dbl&gt;, and abbreviated variable
#   names ¹​UGDS_BLACK, ²​UGDS_HISP, ³​UGDS_ASIAN, ⁴​UGDS_AIAN, ⁵​UGDS_NHPI,
#   ⁶​UGDS_2MOR</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data_set_fit &lt;- linear_reg() |&gt;</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   fit(rank ~ ADM_RATE + UGDS + UGDS_WHITE + UGDS_BLACK + UGDS_HISP + UGDS_ASIAN + UGDS_AIAN + UGDS_NHPI + UGDS_2MOR + UGDS_NRA + UGDS_UNKN+ COSTT4_A + AVGFACSAL + PCTPELL + AGE_ENTRY + FAMINC + ENDOWBEGIN + SAT_AVG + rank + REGION + CONTROL + CCBASIC + college + ACCREDAGENCY, data = data_set)</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy(data_set_fit)</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>data_set_fit <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(rank <span class="sc">~</span> ADM_RATE <span class="sc">+</span> UGDS <span class="sc">+</span> UGDS_WHITE <span class="sc">+</span> UGDS_BLACK <span class="sc">+</span> UGDS_HISP <span class="sc">+</span> UGDS_ASIAN <span class="sc">+</span> UGDS_AIAN <span class="sc">+</span> UGDS_NHPI <span class="sc">+</span> UGDS_2MOR <span class="sc">+</span> UGDS_NRA <span class="sc">+</span> UGDS_UNKN <span class="sc">+</span> COSTT4_A <span class="sc">+</span> AVGFACSAL <span class="sc">+</span> PCTPELL <span class="sc">+</span> AGE_ENTRY <span class="sc">+</span> FAMINC <span class="sc">+</span> ENDOWBEGIN <span class="sc">+</span> SAT_AVG <span class="sc">+</span> rank, <span class="at">data =</span> data_set)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in model.matrix.default(mt, mf, contrasts): the response appeared on the
right-hand side and was dropped</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in model.matrix.default(mt, mf, contrasts): problem with term 19 in
model.matrix: no columns are assigned</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(data_set_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 5
   term        estimate std.error statistic   p.value
   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 (Intercept)   241.        4.13    58.4   1.50e-195
 2 ADM_RATE       37.3       6.68     5.58  4.49e-  8
 3 UGDS          -37.3       5.76    -6.47  2.92e- 10
 4 UGDS_WHITE   8186.     9025.       0.907 3.65e-  1
 5 UGDS_BLACK   3456.     3809.       0.907 3.65e-  1
 6 UGDS_HISP    4816.     5306.       0.907 3.65e-  1
 7 UGDS_ASIAN   3466.     3812.       0.909 3.64e-  1
 8 UGDS_AIAN    1439.     1682.       0.856 3.93e-  1
 9 UGDS_NHPI     120.      143.       0.842 4.00e-  1
10 UGDS_2MOR    1076.     1182.       0.910 3.63e-  1
11 UGDS_NRA     2267.     2510.       0.903 3.67e-  1
12 UGDS_UNKN    1325.     1453.       0.912 3.62e-  1
13 COSTT4_A        4.61      8.54     0.540 5.89e-  1
14 AVGFACSAL     -18.3       8.08    -2.26  2.41e-  2
15 PCTPELL         4.50      9.36     0.481 6.31e-  1
16 AGE_ENTRY      -7.70      6.65    -1.16  2.47e-  1
17 FAMINC        -20.2      10.6     -1.91  5.75e-  2
18 ENDOWBEGIN      2.58      4.92     0.523 6.01e-  1
19 SAT_AVG       -70.6      10.7     -6.60  1.32e- 10</code></pre>
</div>
</div>
<ol type="1">
<li><p>We created a model based on the numerical variables that we chose for the data and created an additive model that considered how the variables influenced the rank of the college. At a first glance, variables with negative slopes mean that they have a negative correlation to ranking. For example, the higher the `SAT_AVG`, the lower the college is ranked on a numerical scale. So the college is ranked higher.</p></li>
<li><p>Remove variables with the lowest slope coefficients until we get the best adjusted r-squared for the overall models.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>data_set_fit_true <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(rank <span class="sc">~</span> ADM_RATE <span class="sc">+</span> UGDS <span class="sc">+</span> UGDS_WHITE <span class="sc">+</span> UGDS_BLACK <span class="sc">+</span> UGDS_HISP <span class="sc">+</span> UGDS_ASIAN <span class="sc">+</span> UGDS_AIAN <span class="sc">+</span> UGDS_NHPI <span class="sc">+</span> UGDS_2MOR <span class="sc">+</span> UGDS_NRA <span class="sc">+</span> UGDS_UNKN <span class="sc">+</span> AVGFACSAL <span class="sc">+</span> PCTPELL <span class="sc">+</span> SAT_AVG <span class="sc">+</span> rank, <span class="at">data =</span> data_set)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in model.matrix.default(mt, mf, contrasts): the response appeared on the
right-hand side and was dropped</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in model.matrix.default(mt, mf, contrasts): problem with term 15 in
model.matrix: no columns are assigned</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(data_set_fit_true)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 5
   term        estimate std.error statistic   p.value
   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 (Intercept)    242.       4.10     59.0  9.64e-200
 2 ADM_RATE        36.3      6.52      5.58 4.52e-  8
 3 UGDS           -36.8      4.25     -8.67 1.08e- 16
 4 UGDS_WHITE    9986.    8978.        1.11 2.67e-  1
 5 UGDS_BLACK    4216.    3790.        1.11 2.67e-  1
 6 UGDS_HISP     5873.    5279.        1.11 2.67e-  1
 7 UGDS_ASIAN    4226.    3793.        1.11 2.66e-  1
 8 UGDS_AIAN     1784.    1673.        1.07 2.87e-  1
 9 UGDS_NHPI      149.     142.        1.05 2.96e-  1
10 UGDS_2MOR     1313.    1176.        1.12 2.65e-  1
11 UGDS_NRA      2769.    2497.        1.11 2.68e-  1
12 UGDS_UNKN     1615.    1445.        1.12 2.64e-  1
13 AVGFACSAL      -17.1      7.25     -2.36 1.87e-  2
14 PCTPELL         18.2      6.97      2.62 9.23e-  3
15 SAT_AVG        -67.7      9.89     -6.84 2.96e- 11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(data_set_fit_true)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 12
  r.squared adj.r.squ…¹ sigma stati…²   p.value    df logLik   AIC   BIC devia…³
      &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
1     0.720       0.711  77.9    73.8 1.60e-101    14 -2395. 4821. 4886.  2.44e6
# … with 2 more variables: df.residual &lt;int&gt;, nobs &lt;int&gt;, and abbreviated
#   variable names ¹​adj.r.squared, ²​statistic, ³​deviance</code></pre>
</div>
</div>
<p>We removed variables that had a slope with an absolute value less than 10 because that would mean that they have less of an impact on ranking than other variables.</p>
<ol type="1">
<li>Look at slope coefficients for variables in models for variables in the model. The one with the highest slope is the most significant.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>data_set <span class="sc">|&gt;</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> UGDS_WHITE, <span class="at">y =</span> rank, <span class="at">color =</span> REGION)) <span class="sc">+</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Proportion of White-Identifying Undergraduate Students"</span> ,</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"School Ranking"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 24 rows containing non-finite values (stat_smooth).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : span too small. fewer data values than degrees of freedom.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : at 0.20523</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : radius 2.2618e-05</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : all data on boundary of neighborhood. make span bigger</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : pseudoinverse used at 0.20523</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : neighborhood radius 0.0047559</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : reciprocal condition number 1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : at 1.1659</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : radius 2.2618e-05</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : all data on boundary of neighborhood. make span bigger</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : There are other near singularities as well. 2.2618e-05</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : zero-width neighborhood. make span bigger

Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
parametric, : zero-width neighborhood. make span bigger</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Computation failed in `stat_smooth()`:
NA/NaN/Inf in foreign function call (arg 5)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 24 rows containing missing values (geom_point).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>Showcase how you arrived at answers to your research question using the techniques we have learned in class (and beyond, if you’re feeling adventurous).</p>
<p>Our preliminary result shows that the number of undergraduate students that identify as white has major impact on the ranking of a college. Because of the positive slope, the more white students a college has, the number of the ranking is bigger which means a “lower” ranking.</p>
<p>Provide only the main results from your analysis. The goal is not to do an exhaustive data analysis (calculate every possible statistic and perform every possible procedure for all variables). Rather, you should demonstrate that you are proficient at asking meaningful questions and answering them using data, that you are skilled in interpreting and presenting results, and that you can accomplish these tasks using R. More is not better.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>