<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>College Ranking Predictions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">2cool4school</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./proposal.html">Proposal</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentation.pdf">Presentation</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./report.html" aria-current="page">Report</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">About</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#research-background" id="toc-research-background" class="nav-link" data-scroll-target="#research-background">Research Background</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data Preparation</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
  <li><a href="#research-question-and-hypothesis" id="toc-research-question-and-hypothesis" class="nav-link" data-scroll-target="#research-question-and-hypothesis">Research Question and Hypothesis</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a>
  <ul class="collapse">
  <li><a href="#approach-1-individual-numerical-variable-analysis" id="toc-approach-1-individual-numerical-variable-analysis" class="nav-link" data-scroll-target="#approach-1-individual-numerical-variable-analysis">Approach #1: Individual Numerical Variable Analysis</a></li>
  <li><a href="#approach-2-stepwise-regression-modeling" id="toc-approach-2-stepwise-regression-modeling" class="nav-link" data-scroll-target="#approach-2-stepwise-regression-modeling">Approach #2: Stepwise Regression Modeling</a></li>
  <li><a href="#final-variable-analysis" id="toc-final-variable-analysis" class="nav-link" data-scroll-target="#final-variable-analysis">Final Variable Analysis</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#approach-1-individual-numerical-variable-analysis-1" id="toc-approach-1-individual-numerical-variable-analysis-1" class="nav-link" data-scroll-target="#approach-1-individual-numerical-variable-analysis-1">Approach #1: Individual Numerical Variable Analysis</a></li>
  <li><a href="#approach-2-stepwise-regression-model" id="toc-approach-2-stepwise-regression-model" class="nav-link" data-scroll-target="#approach-2-stepwise-regression-model">Approach #2: Stepwise Regression Model</a></li>
  <li><a href="#final-variable-analysis-1" id="toc-final-variable-analysis-1" class="nav-link" data-scroll-target="#final-variable-analysis-1">Final Variable Analysis</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a>
  <ul class="collapse">
  <li><a href="#exploratory-analysis-means-of-rank-by-categorical-variables" id="toc-exploratory-analysis-means-of-rank-by-categorical-variables" class="nav-link" data-scroll-target="#exploratory-analysis-means-of-rank-by-categorical-variables">Exploratory Analysis: Means of Rank by Categorical Variables</a></li>
  <li><a href="#full-r-square-value-list" id="toc-full-r-square-value-list" class="nav-link" data-scroll-target="#full-r-square-value-list">Full R-square Value List</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">College Ranking Predictions</h1>
<p class="subtitle lead">Report</p>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="cell">

</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<section id="research-background" class="level3">
<h3 class="anchored" data-anchor-id="research-background">Research Background</h3>
<p>Every year, millions of students apply to colleges across the United States, and many of them use college rankings lists from sources such as Niche.com to to help them decide where to apply. In recent years, these lists have been heavily criticized as they encourage universities to prioritize certain metrics and manipulate the system to raise their ranks. It is important for students to know where these rankings come from and what they actually measure. In this project, we will explore how influential different metrics are in determining a college’s ranking. For reference, when we say a “low rank,” we refer to schools with a lower numerical rank, such as #1. When we say a “high rank,” we refer to schools with a high numerical rank, such as #500.</p>
</section>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="cell">

</div>
<p>For our analysis, we joined two datasets:</p>
<p><strong>Data Set #1 - Niche:</strong> Niche’s “2023 Best Colleges in America” list aggregates data from a variety of sources, including the US Department of Education and reviews from students and alumni, and is updated monthly. The Niche data was scraped by Maia on October 17-19 2022. There are 500 observations, representing the top 500 schools in the United States. Each observation has two variables: <code>college</code> (institution name) and <code>rank</code>.</p>
<p><strong>Data Set #2 - US Department of Education:</strong> The second data set comes from the US Department of Education’s College Scorecard, which is an exhaustive summary of characteristics and statistics for all colleges and universities in the United States. The College Scorecard is updated by the Education Department as it collects new data, but most of the data comes from the 2020-2021 school year. Data used in the scorecard comes comes from data reported by the institutions, data on federal financial aid, data from taxes, and data from other federal agencies. There were 2,989 variables in the original data set, many of which we don’t need to answer our question, so we selected 63 variables before importing into R-Studio. We further narrowed to 31 variables we thought could have the most influence on rank. There are 6681 observations, representing all US colleges and universities.</p>
<p><strong>Variable Summary:</strong></p>
<ul>
<li><code>college</code>: Institution name (Categorical)</li>
<li><code>rank</code>: Rank of school on Niche list (Quantitative)</li>
<li><code>REGION:</code> US geographic region (C)</li>
<li><code>ACCREDAGENCY</code>: Accreditor for institution (C)</li>
<li><code>CONTROL</code>: Public, Private nonprofit, or Private for-profit (C)</li>
<li><code>CCBASIC</code>: Carnegie Classification (basic) (C)</li>
<li><code>ADM_RATE</code>: Admission rate (Q)</li>
<li><code>UGDS:</code> enrollment of undergraduate certificate/degree-seeking students (Q)</li>
<li><code>UGDS_WHITE</code>, <code>UGDS_BLACK</code>, <code>UGDS_HISP</code>, <code>UGDS_ASIAN</code>, <code>UGDS_AIAN</code>, <code>UGDS_NHPI</code>, <code>UGDS_2MOR</code>, and <code>UGDS_UNKN</code>: enrollment of undergraduate students of each racial/ethnic group (Q)</li>
<li><code>NPT4_PUB</code>, <code>NPT4_PRIV</code> Average net price for Title IV institutions (public and private) (Q)</li>
<li><code>COSTT4_A</code>, <code>COSTT4_P</code> Average cost of attendance (academic- and program-year institutions) (Q)</li>
<li><code>AVGFACSAL</code>: Average faculty salary (Q)</li>
<li><code>PCTPELL</code>: Percentage of undergraduates who receive a Pell Grant (Q)</li>
<li><code>C150_4</code>: Completion rate for first-time, full-time students at four-year institutions (Q)</li>
<li><code>AGE_ENTRY</code>: Average age of entry (Q)</li>
<li><code>FEMALE</code>: Share of female students (Q)</li>
<li><code>MARRIED</code>: Share of married students (Q)</li>
<li><code>FIRST_GEN</code>: Share of first-generation students (Q)</li>
<li><code>FAMINC</code>, <code>MD_FAMINC</code>: Average and median family income (Q)</li>
<li><code>ENDOWBEGIN</code>: Value of school’s endowment at the beginning of the fiscal year (Q)</li>
<li><code>SAT_AVG</code>: Average SAT equivalent score of students admitted (Q)</li>
<li><code>ACTCMMID</code>: Midpoint of the ACT cumulative score (Q)</li>
</ul>
<section id="data-preparation" class="level3">
<h3 class="anchored" data-anchor-id="data-preparation">Data Preparation</h3>
<ol type="1">
<li>To get the data, we scraped from Niche.com and downloaded data from the US Department of Education. The steps were done in <code>niche-scrape.R</code></li>
<li><code>University of South Florida-Sarasota-Manatee</code> and <code>University of South Florida-St. Petersburg</code> were removed because they did not exist in both datasets due to naming discrepancies.</li>
</ol>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">

</div>
<ol start="3" type="1">
<li>All of the numerical variables are on different scales, so we created scaled version of the numerical explanatory variables, with mean 0 and standard deviation 1.</li>
</ol>
<div class="cell">

</div>
</section>
</section>
<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<p><strong>Means of Selected Numerical Variables by Rank Group</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 6%">
<col style="width: 15%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Interval</th>
<th style="text-align: right;">Mean Admission Rate</th>
<th style="text-align: right;">Mean SAT Average</th>
<th style="text-align: right;">Mean ACT Median</th>
<th style="text-align: right;">Mean % White Students</th>
<th style="text-align: right;">Mean % Asian Students</th>
<th style="text-align: right;">Mean Cost of Attendance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1-100</td>
<td style="text-align: right;">0.2767340</td>
<td style="text-align: right;">1422.703</td>
<td style="text-align: right;">32.05495</td>
<td style="text-align: right;">0.4865770</td>
<td style="text-align: right;">0.1500930</td>
<td style="text-align: right;">60691.49</td>
</tr>
<tr class="even">
<td style="text-align: left;">101-200</td>
<td style="text-align: right;">0.6181010</td>
<td style="text-align: right;">1266.932</td>
<td style="text-align: right;">27.45455</td>
<td style="text-align: right;">0.6271786</td>
<td style="text-align: right;">0.0698429</td>
<td style="text-align: right;">46371.74</td>
</tr>
<tr class="odd">
<td style="text-align: left;">201-300</td>
<td style="text-align: right;">0.6818970</td>
<td style="text-align: right;">1215.864</td>
<td style="text-align: right;">26.02469</td>
<td style="text-align: right;">0.6142470</td>
<td style="text-align: right;">0.0729400</td>
<td style="text-align: right;">43882.71</td>
</tr>
<tr class="even">
<td style="text-align: left;">301-400</td>
<td style="text-align: right;">0.7157737</td>
<td style="text-align: right;">1160.091</td>
<td style="text-align: right;">24.14474</td>
<td style="text-align: right;">0.5629051</td>
<td style="text-align: right;">0.0548111</td>
<td style="text-align: right;">40799.30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">401-500</td>
<td style="text-align: right;">0.7430135</td>
<td style="text-align: right;">1145.662</td>
<td style="text-align: right;">23.86076</td>
<td style="text-align: right;">0.6184102</td>
<td style="text-align: right;">0.0436867</td>
<td style="text-align: right;">36583.50</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As the rank group gets higher, the mean admission rate increases and the mean SAT Average, ACT Median, and cost of attendance decreases. 1-100 ranked schools have fewer White students and more Asian students than all other. We observed a relationship between the categorical variables and rank, and included that exploratory analysis in the appendix.</p>
</section>
<section id="research-question-and-hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="research-question-and-hypothesis">Research Question and Hypothesis</h2>
<p><strong>Question:</strong> Which characteristics of a university are most associated with rankings on the Niche College Ranking list? Of these characteristics, what is the relationship between high and low rank?</p>
<p><strong>Hypothesis:</strong> We hypothesize that SAT/ACT scores, acceptance rate, and family income will have the strongest association with rank because since Niche’s audience is in large part students applying to college, we believe that they prioritize variables important in the college admissions process. Of these variables, we predict that SAT/ACT score and family income will have a strong negative relationship, and acceptance rate will have a strong positive relationship with rank.</p>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>We split the first part of our analysis into two approaches. In the first we look at the linear relationship between the numerical explanatory variables and college rank using R-squared values. In the second we build a stepwise regression model between the variables and college rank. As the variables in the final model will be most important for determining rank, we will use the model results to corroborate our results from the first approach. As we cannot find an R-squared value or other numerical metric to measure a relationship involving a categorical variable, we will use the stepwise regression model to determine if there is a strong association between those variables and rank. In the second part of our analysis, we will combine the results of the two approaches and characterize the relationship between rank and the variables with the strongest association.</p>
<section id="approach-1-individual-numerical-variable-analysis" class="level3">
<h3 class="anchored" data-anchor-id="approach-1-individual-numerical-variable-analysis">Approach #1: Individual Numerical Variable Analysis</h3>
<p>First, we will create linear regression models between each individual explanatory variable and rank. Then, we will calculate the R-squared value for each respective model, rank the values from highest to lowest, and select the variables with the highest R-squared values.</p>
</section>
<section id="approach-2-stepwise-regression-modeling" class="level3">
<h3 class="anchored" data-anchor-id="approach-2-stepwise-regression-modeling">Approach #2: Stepwise Regression Modeling</h3>
<p>A stepwise regression model can manage large amounts of potential predictor variables and fine-tune the model to choose the best predictor variables from the available options. In our case, we have more than 25 variables to be examined and thus it is crucial to have a automated workflow for model selections.</p>
<p>There are two main steps in this approach. First, we will create a correlation matrix to check correlation coefficients between variables. If two variables have an absolute value of r greater than 0.8, meaning they were too similar in how they factored into rankings, we only picked one of them to put into the model. Then, we will compute the stepwise regression model (both forward and backward selections) using the <code>MASS</code> package and <code>stepAIC()</code> functions for model selections based on Akaike Information Criterion (AIC). AIC is used to compare different possible models and determine which one is the best fit for the data in statistic practice. For the initial setting of the linear regression model, we will import all the valid variables into the model to predict the rank variable.</p>
</section>
<section id="final-variable-analysis" class="level3">
<h3 class="anchored" data-anchor-id="final-variable-analysis">Final Variable Analysis</h3>
<p>We will examine the final variables selected by both approaches by first interpreting the R-squared values and graphs to characterize the linear association for each variable and rank. Then, we will calculate the linear regression slopes between each of the explanatory variables (scaled and non-scaled) and college rank. Then, we will use the scaled slopes to determine which explanatory variable has the greatest influence on college on a school having a higher rank. We will interpret the relationships using the non-scaled slopes.</p>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<section id="approach-1-individual-numerical-variable-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="approach-1-individual-numerical-variable-analysis-1">Approach #1: Individual Numerical Variable Analysis</h3>
<p>The table below gives the highest R-squared values for relationships between each individual explanatory variable in our data set and colleges rank. The full list of values is in the appendix.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">r_squared</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SAT_AVG</td>
<td style="text-align: right;">0.6291468</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACTCMMID</td>
<td style="text-align: right;">0.6062324</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C150_4</td>
<td style="text-align: right;">0.5137627</td>
</tr>
<tr class="even">
<td style="text-align: left;">AVGFACSAL</td>
<td style="text-align: right;">0.4692148</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ADM_RATE</td>
<td style="text-align: right;">0.4048157</td>
</tr>
<tr class="even">
<td style="text-align: left;">PCTPELL</td>
<td style="text-align: right;">0.2476545</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><code>COSTT4_P</code> (Average cost of attendance for program-year institutions) has been removed because there are only two observations.</p>
<p>Average SAT (<code>SAT_AVG</code>), median ACT (<code>ACTCMMID</code>), graduation rate (<code>C150_4</code>), average faculty salary (<code>AVGFACSAL</code>), and admission rate (<code>ADM_RATE</code>), are the five variables with the strongest correlation to rank, based on their R-Squared values Therefore, they are the variables we will be examining later in our analysis. We chose five as a cutoff because there is a substantial difference between the R-squared value of these five and the next variable (<code>PCTPELL)</code>.</p>
</section>
<section id="approach-2-stepwise-regression-model" class="level3">
<h3 class="anchored" data-anchor-id="approach-2-stepwise-regression-model">Approach #2: Stepwise Regression Model</h3>
<p><strong>Remove Highly Correlated Variables</strong></p>
<div class="cell">

</div>
<div class="cell">

</div>
<table class="table">
<thead>
<tr class="header">
<th>Variable Pairs with r &gt; 0.8</th>
<th>Correlation Coefficients</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>C150_4, SAT_AVG</td>
<td>0.8389</td>
</tr>
<tr class="even">
<td>C150_4, ACTCMMID</td>
<td>0.8494</td>
</tr>
<tr class="odd">
<td>AGE_ENTRY, MARRIED</td>
<td>0.9059</td>
</tr>
<tr class="even">
<td>FAMINC, MD_FAMINC</td>
<td>0.9538</td>
</tr>
<tr class="odd">
<td>SAT_AVG, ACTCMMID</td>
<td>0.9756</td>
</tr>
</tbody>
</table>
<p>This table displays high correlated variables. We will drop the variables <code>C150_4</code>, <code>MD_FAMINC</code>, <code>ACTCMMID</code>, <code>MARRIED</code> and preserve <code>SAT_AVG</code> and <code>FAMINC</code> to represent all other variables.</p>
<p><strong>Compute Stepwise Regression</strong></p>
<div class="cell" data-fontsize="2pt">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="report_files/figure-html/visualize-stepwise-model-1.png" class="img-fluid" width="576"></p>
</div>
</div>
<p>The plot above displays the decreasing AIC value as variables get dropped and added. Each point represents a new iteration of the model after a variable is taken out (-) or added (+). The final iteration is the best model because its AIC value is the lowest.</p>
<p><strong>Final Model</strong></p>
<pre><code>rank ~ REGION + CONTROL + CCBASIC + ACCREDAGENCY + ADM_RATE +
    UGDS + UGDS_ASIAN + UGDS_2MOR + UGDS_UNKN + COSTT4_A + AVGFACSAL +
    AGE_ENTRY + SAT_AVG + FIRST_GEN + UGDS_HISP</code></pre>
<div class="cell">

</div>
<p>Our final model has an R-squared coefficient of 0.7740974 which means it accounts for a significant amount of the variation in rank.</p>
</section>
<section id="final-variable-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="final-variable-analysis-1">Final Variable Analysis</h3>
<p><strong>Categorical Variable Analysis</strong></p>
<p>All four categorical variables appeared in the final model, so we can assume that they have a significant association with rank. (Note that for these graphs we dropped <code>NAs</code> and removed levels that only had one observation.)</p>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="report_files/figure-html/rank-vs-region-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="report_files/figure-html/rank-vs-region-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="report_files/figure-html/rank-vs-region-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="report_files/figure-html/rank-vs-region-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>The Geographic Region graph shows that New England has the highest proportion of top-100 schools, while the Plains has the lowest. Apart from the <code>New England</code> and <code>NA</code> bars, the differences in proportions of rank groups do not vary dramatically between bars. It is possible that the strength of the correlation between rank and region is driven in large part by the association New England has with schools with the lowest 100 ranks. Additionally, as accreditation agency is often based on location, it reflects results similar to the region graph. There are only 4 <code>Private, For-profit</code> schools in the top 500, and all of them are ranked between 301 and 400. The proportions of ranks between <code>Private, Non-profit</code> and <code>Public</code> are similar, although the first appears to have a larger proportion of <code>1-100</code> schools, and the latter a higher proportion of <code>401-500</code> schools. There appears to be the greatest differences between bars of proportions of rank groups in the Carnegie Classification group, suggesting that this has the strongest association with rank. The lower the rank, the higher proportion of schools in <code>Doctoral Universities: Very High Research Activity</code> and <code>Baccalaureate Colleges: Arts &amp; Sciences Focus</code>. However, the opposite appears to be true for all other classifications with 3 or more rank categories.</p>
<p><strong>Numerical Variable Analysis</strong></p>
<p>All of the variables with the top 5 R-squared values appeared in the final stepwise regression model except for <code>ACTCMMID</code> (median ACT score) and <code>C150_4</code> (graduation rate). These were not used in the model because both of them had a high correlation with <code>SAT_AVG</code> (average SAT). Because <code>SAT_AVG</code> ended up in the final model, we can reasonably assume that they also have a strong association with rank based on the model’s selection process. Therefore, we conclude that <code>SAT_AVG</code>, <code>ACTCMMID</code>, <code>C150_4</code>, <code>AVGFACSAL</code>, and <code>ADM_RATE</code> have the strongest association with rank, and we will characterize the relationship below.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 41%">
<col style="width: 14%">
<col style="width: 19%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">R-Squared</th>
<th style="text-align: right;">Scaled Slope</th>
<th style="text-align: right;">Non-scaled Slope</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Avg. SAT</td>
<td style="text-align: right;">0.6291468</td>
<td style="text-align: right;">-115.00</td>
<td style="text-align: right;">-0.9277</td>
</tr>
<tr class="even">
<td style="text-align: left;">Med. ACT</td>
<td style="text-align: right;">0.6062324</td>
<td style="text-align: right;">-112.90</td>
<td style="text-align: right;">-30.0400</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Graduation Rate</td>
<td style="text-align: right;">0.5137627</td>
<td style="text-align: right;">-103.50</td>
<td style="text-align: right;">-735.2000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Avg. Faculty Salary</td>
<td style="text-align: right;">0.4692148</td>
<td style="text-align: right;">-98.89</td>
<td style="text-align: right;">-0.0347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Admission Rate</td>
<td style="text-align: right;">0.4048157</td>
<td style="text-align: right;">91.74</td>
<td style="text-align: right;">387.0200</td>
</tr>
<tr class="even">
<td style="text-align: left;">% Students with Pell Grants</td>
<td style="text-align: right;">0.2476545</td>
<td style="text-align: right;">71.75</td>
<td style="text-align: right;">644.7600</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>63% of the variation in college rank can be explained by average SAT score. This same interpretation can be used for all of the variables. Looking further at the relationships, there is a negative relationship between SAT/ACT/Graduation Rate/Faculty Salary and rank. This indicates that as the variables increase, the rank of the school decreases. There is a positive relationship between admission rate and rank, indicating that as this variable increases, the rank of a school increases.</p>
<p>The non-scaled slope shows that on average, we expect a 1-point increase in median ACT score to drop the rank of a school by 30 places. Since admission rate is scaled from 0-1, we need to divide the slope by 100 to interpret it. It indicates that a 1-point drop in admission rate will, on average, result in an estimated drop in rank of the school by 3.87 places. The other variables can be interpreted in the same manner. Scaled slopes allow us to compare them and tell the change in which numerical variable has the greatest impact on a school’s rank. An interesting trend is that among the five most associated variables, the higher the R-squared the higher absolute value of scaled-slope, indicating that variables that have the strongest association to rank also have the greatest influence on decreasing rank. This is logical because Niche likely tie their rankings to variables with the greatest differentiation between higher and lower ranks. This is also concerning because if schools know which variables are most associated to rank and which ones have the greatest impact on decreasing it, it is fairly easy for them to know which variables to change if they wanted to manipulate the rankings.</p>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<p>Based on our analysis and approaches, <code>SAT_AVG</code>, <code>ACTCMMID</code>, <code>C150_4</code>, <code>AVGFACSAL</code>, and <code>ADM_RATE</code> are the numerical explanatory variables most associated with college ranking, which partially confirm our initial hypothesis. SAT/ACT/Admission Rate were among the most correlated variables, but family income was not in the top five, possibly because financial aid allows students from various financial backgrounds to attend universities. These relationships indicate certain priorities in college rankings. The existence of the SAT, ACT, and admission rate variables in the top five highlight how rankings prioritize selectivity in college admissions. This makes us wonder if colleges focus on improving admissions selectivity over their quality of education and student outcomes. The inclusion of graduation rate and faculty salary do tell slightly different stories. While graduation rate indicates a focus on the ability of a university to meet the needs of its students, faculty salary may indicate the quality of the faculty both in teaching and research.</p>
<p>The stepwise regression model indicated that the categorical variables <code>REGION</code>, <code>ACCREDAGENCY</code>, <code>CONTROL</code>, and <code>CCBASIC</code> were also important to calculating rank. Unlike the numerical variables, it is interesting to note that these variables cannot change easily from year-to-year, so colleges cannot use them to manipulate their rankings. Additionally, there are some variables that appear in the final model that have a lower individual R-squared value than some that were taken out of the model. We believe that this is because AIC examines the collective predictive power of the variables rather than the individual predictive ability.</p>
<p>The limitations of our analysis are as follows: We left the categorical variables out of the first approach because we do not know a way to numerically analyze them, and in doing so, we could not subject these variables to the same two-step confirmation process that we did for the numerical values. Furthermore, we assumed that all variables had a linear relationship with ranks so we could use linear regression modeling to analyze them. Additionally, our linear models assume that rank is continuous and goes on forever. We recognize that this is not the case, but since the rank values have meaning and we have not learned how to properly work with ranked data in this class, we decided that a linear regression model was our best approach. All of these issues could be resolved by learning and implementing more appropriate statistical methods. Finally, we believe that future avenues for this project could include analyzing and comparing more ranking systems, such as those created by US News and Forbes. It would be useful if students could understand what each system values and use the one most in line with their priorities. Additionally, we would like to look at over 1000 colleges to see if our results stay consistent between colleges throughout the country, and perhaps even throughout the world.</p>
<div style="page-break-after: always;"></div>
</section>
<section id="appendix" class="level2">
<h2 class="anchored" data-anchor-id="appendix">Appendix</h2>
<section id="exploratory-analysis-means-of-rank-by-categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-analysis-means-of-rank-by-categorical-variables">Exploratory Analysis: Means of Rank by Categorical Variables</h3>
<p>Below, we group the schools by the different categorical variables in our analysis and then take the mean rank for each of those groups. For Carnegie classification, any classification with only one school was removed from the analysis.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We observe that private non-profit colleges have a higher mean rank than public colleges or private for-profit colleges.</p>
<p>As far as region, schools from New England have the highest mean rank, while schools from the Plains have the lowest mean rank.</p>
<p>Looking at the Carnegie Classification, Doctoral Universities: Very High Research Activity have the highest mean rank, followed by Special Focus Four-Year: Engineering Schools. Master’s Colleges and Universities: Medium Programs have the lowest mean rank.</p>
</section>
<section id="full-r-square-value-list" class="level3">
<h3 class="anchored" data-anchor-id="full-r-square-value-list">Full R-square Value List</h3>
<p>Here is the full list of R-squared values from the linear regression models between individual numerical explanatory variables and college rank.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: right;">r_squared</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SAT_AVG</td>
<td style="text-align: right;">0.6291468</td>
</tr>
<tr class="even">
<td style="text-align: left;">ACTCMMID</td>
<td style="text-align: right;">0.6062324</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C150_4</td>
<td style="text-align: right;">0.5137627</td>
</tr>
<tr class="even">
<td style="text-align: left;">AVGFACSAL</td>
<td style="text-align: right;">0.4692148</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ADM_RATE</td>
<td style="text-align: right;">0.4048157</td>
</tr>
<tr class="even">
<td style="text-align: left;">PCTPELL</td>
<td style="text-align: right;">0.2476545</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UGDS_NRA</td>
<td style="text-align: right;">0.2040361</td>
</tr>
<tr class="even">
<td style="text-align: left;">FIRST_GEN</td>
<td style="text-align: right;">0.1963961</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UGDS_ASIAN</td>
<td style="text-align: right;">0.1946322</td>
</tr>
<tr class="even">
<td style="text-align: left;">ENDOWBEGIN</td>
<td style="text-align: right;">0.1643675</td>
</tr>
<tr class="odd">
<td style="text-align: left;">COSTT4_A</td>
<td style="text-align: right;">0.1577993</td>
</tr>
<tr class="even">
<td style="text-align: left;">FAMINC</td>
<td style="text-align: right;">0.1525416</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AGE_ENTRY</td>
<td style="text-align: right;">0.1462016</td>
</tr>
<tr class="even">
<td style="text-align: left;">MARRIED</td>
<td style="text-align: right;">0.1072270</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FEMALE</td>
<td style="text-align: right;">0.0752810</td>
</tr>
<tr class="even">
<td style="text-align: left;">MD_FAMINC</td>
<td style="text-align: right;">0.0661957</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NPT4_PUB</td>
<td style="text-align: right;">0.0568142</td>
</tr>
<tr class="even">
<td style="text-align: left;">UGDS</td>
<td style="text-align: right;">0.0548673</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UGDS_2MOR</td>
<td style="text-align: right;">0.0476589</td>
</tr>
<tr class="even">
<td style="text-align: left;">UGDS_BLACK</td>
<td style="text-align: right;">0.0463458</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NPT4_PRIV</td>
<td style="text-align: right;">0.0419051</td>
</tr>
<tr class="even">
<td style="text-align: left;">UGDS_WHITE</td>
<td style="text-align: right;">0.0304200</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UGDS_NHPI</td>
<td style="text-align: right;">0.0222752</td>
</tr>
<tr class="even">
<td style="text-align: left;">UGDS_UNKN</td>
<td style="text-align: right;">0.0126394</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UGDS_AIAN</td>
<td style="text-align: right;">0.0089268</td>
</tr>
<tr class="even">
<td style="text-align: left;">UGDS_HISP</td>
<td style="text-align: right;">0.0040103</td>
</tr>
</tbody>
</table>
</div>
</div>
<div style="page-break-after: always;"></div>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><p>Learned how to do for loops from TA Eli Gnesin</p></li>
<li><p>We used the <code>scale()</code> function found at https://www.statology.org/standardize-data-in-r/</p></li>
<li><p>https://www.niche.com/colleges/search/best-colleges/</p></li>
<li><p>https://collegescorecard.ed.gov/data/</p></li>
<li><p>https://www.youtube.com/watch?v=ejR8LnQziPY</p></li>
<li><p>https://stackoverflow.com/questions/57248708/stepwise-model-selection-in-an-r-tidyverse-workflow</p></li>
<li><p>https://stackoverflow.com/questions/53135404/filter-correlation-matrix-r</p></li>
<li><p>https://stackoverflow.com/questions/68093071/how-to-highlight-high-correlations-in-ggpairs-correlation-matrix</p></li>
<li><p>http://www.sthda.com/english/wiki/visualize-correlation-matrix-using-correlogram</p></li>
<li><p>https://www.tutorialspoint.com/how-to-deal-with-missing-values-to-calculate-correlation-matrix-in-r</p></li>
<li><p>https://www.displayr.com/how-to-create-a-correlation-matrix-in-r/</p></li>
<li><p>https://stats.stackexchange.com/questions/550537/how-to-get-r-squared-after-doing-stepwise-model-selection-in-regression-in-r</p></li>
<li><p>http://www.sthda.com/english/articles/37-model-selection-essentials-in-r/154-stepwise-regression-essentials-in-r/</p></li>
<li><p>https://www.researchgate.net/figure/R-2-and-RMSE-of-forward-stepwise-regression-models-vs-WHO-algorithm_tbl1_354396022</p></li>
<li><p>https://www.r-bloggers.com/2016/05/visualizing-bootrapped-stepwise-regression-in-r-using-plotly/</p></li>
<li><p>https://www.tutorialspoint.com/how-to-increase-the-x-axis-labels-font-size-using-ggplot2-in-r#:~:text=More%20Detail-,To%20increase%20the%20X%2Daxis%20labels%20font%20size%20using%20ggplot2,the%20scale%20for%20X%2Daxis.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>